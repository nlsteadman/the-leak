{"ast":null,"code":"var _jsxFileName = \"/Users/endor/Flatiron/code/the-leak/client/src/components/UserLocationCard.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { headers, getToken, baseUrl } from './Globals';\nimport { MyContext } from '../context/MyContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserLocationCard = _ref => {\n  _s();\n\n  let {\n    review\n  } = _ref;\n  const {\n    loggedIn\n  } = useContext(MyContext);\n  const {\n    deleteReview\n  } = useContext(MyContext);\n  const {\n    locationTypes\n  } = useContext(MyContext);\n  const navigate = useNavigate();\n  const locationTypeInfo = locationTypes.find(locationType => locationType.id === review.location.location_type_id);\n\n  const locationTypeDisplay = () => {\n    if (locationTypeInfo) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Location type: \", locationTypeInfo.org]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 9\n      }, this);\n    }\n  };\n\n  const handleDelete = () => {\n    if (review) {\n      if (loggedIn) {\n        fetch(\"/reviews/\" + review.id, {\n          method: \"DELETE\",\n          headers: { ...headers,\n            ...getToken()\n          }\n        }).then(data => deleteReview(review));\n      }\n    }\n  };\n\n  const deleteButton = () => {\n    if (review) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleDelete,\n          children: \"Remove from list\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"locationcard\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"locationimage\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: review.location.image_url,\n          alt: \"book cover\",\n          height: \"550\",\n          width: \"375\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"locationinfo\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: review.location.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: review.location.address\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: review.location.hours\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), locationTypeDisplay(), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(`/locations/${review.location.id}`),\n          children: \"Click for more\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: deleteButton()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(`/reviews/update/${review.id}`),\n          children: \"Leave a review\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserLocationCard, \"5pgjeTy/tZpRJOk0Bw5erKZ9FN0=\", false, function () {\n  return [useNavigate];\n});\n\n_c = UserLocationCard;\nexport default UserLocationCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserLocationCard\");","map":{"version":3,"names":["React","useContext","useNavigate","headers","getToken","baseUrl","MyContext","UserLocationCard","review","loggedIn","deleteReview","locationTypes","navigate","locationTypeInfo","find","locationType","id","location","location_type_id","locationTypeDisplay","org","handleDelete","fetch","method","then","data","deleteButton","image_url","name","address","hours"],"sources":["/Users/endor/Flatiron/code/the-leak/client/src/components/UserLocationCard.jsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { headers, getToken, baseUrl } from './Globals';\nimport { MyContext } from '../context/MyContext';\n\nconst UserLocationCard = ({ review }) => {\n  const {loggedIn} = useContext(MyContext);\n  const {deleteReview} = useContext(MyContext);\n  const {locationTypes} = useContext(MyContext);\n\n  const navigate = useNavigate();\n\n  const locationTypeInfo = locationTypes.find(locationType => locationType.id === review.location.location_type_id)\n\n  const locationTypeDisplay = () => {\n    if (locationTypeInfo) {\n      return (\n        <div>\n          <p>Location type: { locationTypeInfo.org }</p>\n        </div>\n      )\n    }\n  }\n\n  const handleDelete = () => {\n    if (review) {\n      if ( loggedIn ) {\n        fetch(\"/reviews/\" + review.id, {\n          method: \"DELETE\",\n          headers: {\n            ...headers,\n            ...getToken()\n          }\n        })\n          .then((data) => deleteReview(review))\n      }\n    }\n  }\n\n\n  const deleteButton = () => {\n    if (review) {\n        return (\n          <div>\n            <button onClick={ handleDelete }>Remove from list</button>\n          </div>\n        )\n    }\n  }\n\n  \n  return (\n    <div>\n      <div id=\"locationcard\">\n        <div id=\"locationimage\">\n            <img src={ review.location.image_url } alt=\"book cover\" height=\"550\" width=\"375\" />\n        </div>\n        <div id=\"locationinfo\">\n          <h2>{ review.location.name }</h2>\n          <p>{ review.location.address }</p>\n          <p>{ review.location.hours }</p>\n          { locationTypeDisplay() }\n          <button onClick={ () => navigate(`/locations/${ review.location.id }`) }>Click for more</button>\n          <div>{ deleteButton() }</div>\n          <button onClick={ () => navigate(`/reviews/update/${ review.id }`)}>Leave a review</button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default UserLocationCard;"],"mappings":"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"},"metadata":{},"sourceType":"module"}